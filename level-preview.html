<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Controller QTE — Level Picker (28×10)</title>
<style>
  * { margin: 0; padding: 0; box-sizing: border-box; }
  body {
    background: #0e0e1a;
    color: #ccc;
    font-family: 'Courier New', monospace;
    padding: 20px;
  }
  h1 {
    text-align: center;
    color: #fff;
    margin-bottom: 6px;
    font-size: 22px;
  }
  .legend {
    text-align: center;
    margin-bottom: 20px;
    font-size: 13px;
    color: #888;
  }
  .legend span { margin: 0 10px; }
  .legend .swatch {
    display: inline-block;
    width: 12px; height: 12px;
    vertical-align: middle;
    margin-right: 3px;
    border: 1px solid #555;
  }
  .grid {
    display: grid;
    grid-template-columns: repeat(3, 1fr);
    gap: 20px;
    max-width: 1400px;
    margin: 0 auto;
  }
  .card {
    background: #16162a;
    border: 2px solid #333;
    border-radius: 8px;
    padding: 12px;
    text-align: center;
  }
  .card h2 {
    color: #fff;
    font-size: 14px;
    margin-bottom: 4px;
  }
  .card .desc {
    font-size: 11px;
    color: #888;
    margin-bottom: 8px;
  }
  canvas {
    display: block;
    margin: 0 auto;
    border: 1px solid rgba(255,255,255,0.2);
    image-rendering: pixelated;
  }
</style>
</head>
<body>

<h1>Controller QTE — Pick Platformer Levels</h1>
<div class="legend">
  <span><span class="swatch" style="background:#555577"></span> Solid</span>
  <span><span class="swatch" style="background:#e74c3c"></span> Spike</span>
  <span><span class="swatch" style="background:#44ff88"></span> Goal</span>
  <span><span class="swatch" style="background:#00ffff"></span> Player Start</span>
  <span>Grid: 28×10 tiles @ 16px</span>
</div>

<div class="grid" id="grid"></div>

<script>
const TILE = 16;
const COLS = 28;
const ROWS = 10;
const SCALE = 2; // render at 2× for clarity
const W = COLS * TILE * SCALE;
const H = ROWS * TILE * SCALE;

const COLORS = {
  '.': null,
  '#': '#555577',
  'S': null,       // spike drawn as triangle
  'G': '#44ff88',
  'P': '#00ffff',
};

const LAYOUTS = [
  {
    name: '1 — Simple Gaps',
    desc: 'Flat ground, two gaps to jump. Spikes in the middle.',
    map: [
      '............................',
      '............................',
      '............................',
      '............................',
      '............................',
      '............................',
      '..........................G.',
      'P.........................##',
      '####..###..####.SS.###..###',
      '####..###..####.##.###..###',
    ]
  },
  {
    name: '2 — Ascending Platforms',
    desc: 'Staircase of platforms going up-right to the goal.',
    map: [
      '............................',
      '............................',
      '..........................G.',
      '........................####',
      '............................',
      '....................####....',
      '................####........',
      'P...........####............',
      '####...####.....SS..........',
      '####...####.....##..........',
    ]
  },
  {
    name: '3 — Zigzag Spikes',
    desc: 'Zigzag platforms with spike hazards between.',
    map: [
      '............................',
      '............................',
      '............................',
      '.......................G....',
      '.....................####...',
      '...........####.............',
      '.......SS...................',
      'P......##......####.........',
      '####.####..SS..####..####...',
      '####.####..##..####..####...',
    ]
  },
  {
    name: '4 — Gauntlet',
    desc: 'Flat run with spike pillars to weave through.',
    map: [
      '............................',
      '............................',
      '............................',
      '............................',
      '............................',
      '..........................G.',
      'P.........................##',
      '###.S.##.S.###.S.##.S..###',
      '###.#.##.#.###.#.##.#..###',
      '####.####.#####.####.#####',
    ]
  },
  {
    name: '5 — Long Jump',
    desc: 'Wide gaps requiring full-speed running jumps.',
    map: [
      '............................',
      '............................',
      '............................',
      '............................',
      '............................',
      '............................',
      '..........................G.',
      'P.........................##',
      '####.....####.....####..###',
      '####.....####.....####..###',
    ]
  },
  {
    name: '6 — Descending Shelves',
    desc: 'Drop down through shelves, spikes below.',
    map: [
      '............................',
      'P.........###...............',
      '####..........###...........',
      '..................###.......',
      '........................###.',
      '..........................G.',
      '..........................##',
      '............................',
      'SS.SS.SS.SS.SS.SS.SS.SS.SS.',
      '##.##.##.##.##.##.##.##.##.',
    ]
  },
  {
    name: '7 — U-Dip',
    desc: 'Drop into a pit, climb back up to reach goal.',
    map: [
      '............................',
      '............................',
      '............................',
      '............................',
      '............................',
      'P.........................G.',
      '###.....................####',
      '......###..........###.....',
      '.........###..###..........',
      'SSSSSSSSSS.####.SSSSSSSSSS.',
    ]
  },
  {
    name: '8 — Spike Corridor',
    desc: 'Narrow ceiling passage with spikes above and below.',
    map: [
      '............................',
      '............................',
      '............................',
      'SSSSSSSSSSSSSSSSSSSSSSSSSSSS',
      '############################',
      '............................',
      'P.........................G.',
      '............................',
      '############################',
      'SSSSSSSSSSSSSSSSSSSSSSSSSSSS',
    ]
  },
  {
    name: '9 — Hop Scotch',
    desc: 'Tiny single-tile platforms over a spike floor.',
    map: [
      '............................',
      '............................',
      '............................',
      '............................',
      '............................',
      '..........................G.',
      'P.........................##',
      '##..#..#..#..#..#..#..#.###',
      '..SS.SS.SS.SS.SS.SS.SS....',
      '..##.##.##.##.##.##.##....',
    ]
  },
  {
    name: '10 — Tower Climb',
    desc: 'Vertical climb up alternating left-right platforms.',
    map: [
      '..........................G.',
      '........................####',
      '............................',
      '..####......................',
      '............................',
      '........................####',
      '............................',
      'P.####......................',
      '####........................',
      '############################',
    ]
  },
  {
    name: '11 — Pit Stop',
    desc: 'Three pits with spike bottoms. Time your jumps.',
    map: [
      '............................',
      '............................',
      '............................',
      '............................',
      '............................',
      '............................',
      '..........................G.',
      'P.........................##',
      '####.SS.#####.SS.#####.####',
      '#####SS######.SS.######.###',
    ]
  },
  {
    name: '12 — Floating Islands',
    desc: 'Scattered platforms in open air. Fall = death.',
    map: [
      '............................',
      '............................',
      '.....................G......',
      '...................###.....',
      '...............###.........',
      '...........###.............',
      '.......###.................',
      'P..###.....................',
      '####........................',
      '............................',
    ]
  },
];

function drawLevel(canvas, layout) {
  canvas.width = W;
  canvas.height = H;
  const ctx = canvas.getContext('2d');
  ctx.scale(SCALE, SCALE);

  // Background
  ctx.fillStyle = '#1a1a2e';
  ctx.fillRect(0, 0, COLS * TILE, ROWS * TILE);

  for (let r = 0; r < ROWS; r++) {
    const line = layout[r] || '';
    for (let c = 0; c < COLS; c++) {
      const ch = line[c] || '.';
      const tx = c * TILE;
      const ty = r * TILE;

      if (ch === '#') {
        ctx.fillStyle = '#555577';
        ctx.fillRect(tx, ty, TILE, TILE);
        ctx.strokeStyle = 'rgba(255,255,255,0.15)';
        ctx.lineWidth = 1;
        ctx.strokeRect(tx + 0.5, ty + 0.5, TILE - 1, TILE - 1);
      } else if (ch === 'S') {
        ctx.fillStyle = '#e74c3c';
        ctx.beginPath();
        ctx.moveTo(tx, ty + TILE);
        ctx.lineTo(tx + TILE / 2, ty + 2);
        ctx.lineTo(tx + TILE, ty + TILE);
        ctx.closePath();
        ctx.fill();
      } else if (ch === 'G') {
        ctx.fillStyle = '#44ff88';
        ctx.fillRect(tx + 2, ty + 2, TILE - 4, TILE - 4);
        ctx.strokeStyle = '#44ff88';
        ctx.lineWidth = 1;
        ctx.strokeRect(tx + 1, ty + 1, TILE - 2, TILE - 2);
      } else if (ch === 'P') {
        ctx.fillStyle = '#00ffff';
        ctx.fillRect(tx + 1, ty + 1, TILE - 2, TILE - 2);
        ctx.strokeStyle = 'rgba(255,255,255,0.6)';
        ctx.lineWidth = 1;
        ctx.strokeRect(tx + 1, ty + 1, TILE - 2, TILE - 2);
      }
    }
  }
}

// Build cards
const grid = document.getElementById('grid');
for (const layout of LAYOUTS) {
  const card = document.createElement('div');
  card.className = 'card';

  const h2 = document.createElement('h2');
  h2.textContent = layout.name;
  card.appendChild(h2);

  const desc = document.createElement('div');
  desc.className = 'desc';
  desc.textContent = layout.desc;
  card.appendChild(desc);

  const canvas = document.createElement('canvas');
  drawLevel(canvas, layout.map);
  card.appendChild(canvas);

  grid.appendChild(card);
}
</script>
</body>
</html>
